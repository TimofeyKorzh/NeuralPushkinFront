{"ast":null,"code":"import React from 'react';\nimport axios from 'axios'; //const ENDPOINT_URL = \"https://api.pushkin.monetka.name/push\";//куда делается запрос\n\nconst ENDPOINT_URL = \"http://46.17.97.44:5001/stih\"; //куда делается запрос\n\nconst useAsyncEndpoint = fn => {\n  const [res, setRes] = React.useState({\n    data: null,\n    complete: false,\n    pending: false,\n    error: false\n  });\n  const [req, setReq] = React.useState();\n  React.useEffect(() => {\n    if (!req) return;\n    setRes({\n      data: null,\n      pending: true,\n      error: false,\n      complete: false\n    });\n    axios(req).then(res => setRes({\n      data: res.data,\n      pending: false,\n      error: false,\n      complete: true\n    })).catch(() => setRes({\n      data: null,\n      pending: false,\n      error: true,\n      complete: true\n    }));\n  }, [req]);\n  console.log(res);\n  return [res, (...args) => setReq(fn(...args))];\n};\n\nexport const postGeneratePoemEndpoint = () => {\n  /* eslint-disable react-hooks/rules-of-hooks */\n  return useAsyncEndpoint(data => ({\n    url: ENDPOINT_URL,\n    method: \"GET\",\n    params: {\n      name: data.name,\n      temp: data.temperature,\n      length: 100\n    }\n  })); //Гет-запрос на сервер\n\n  /* return axios.get(data => (ENDPOINT_URL, {\r\n       params: {\r\n         text: data.text,\r\n         temp: data.temperature\r\n       }\r\n     }));*/\n}; //","map":{"version":3,"sources":["C:/Users/tkorg/Projects/neuralpushkin/neuralpushkinfront/src/utilsPoem.js"],"names":["React","axios","ENDPOINT_URL","useAsyncEndpoint","fn","res","setRes","useState","data","complete","pending","error","req","setReq","useEffect","then","catch","console","log","args","postGeneratePoemEndpoint","url","method","params","name","temp","temperature","length"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,MAAMC,YAAY,GAAG,8BAArB,C,CAAoD;;AACpD,MAAMC,gBAAgB,GAAGC,EAAE,IAAI;AAC3B,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBN,KAAK,CAACO,QAAN,CAAe;AAAEC,IAAAA,IAAI,EAAE,IAAR;AAAcC,IAAAA,QAAQ,EAAE,KAAxB;AAA+BC,IAAAA,OAAO,EAAE,KAAxC;AAA+CC,IAAAA,KAAK,EAAE;AAAtD,GAAf,CAAtB;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBb,KAAK,CAACO,QAAN,EAAtB;AAEAP,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AAClB,QAAI,CAACF,GAAL,EAAU;AACVN,IAAAA,MAAM,CAAC;AAAEE,MAAAA,IAAI,EAAE,IAAR;AAAcE,MAAAA,OAAO,EAAE,IAAvB;AAA6BC,MAAAA,KAAK,EAAE,KAApC;AAA2CF,MAAAA,QAAQ,EAAE;AAArD,KAAD,CAAN;AACAR,IAAAA,KAAK,CAACW,GAAD,CAAL,CACKG,IADL,CACUV,GAAG,IACLC,MAAM,CAAC;AAAEE,MAAAA,IAAI,EAAEH,GAAG,CAACG,IAAZ;AAAkBE,MAAAA,OAAO,EAAE,KAA3B;AAAkCC,MAAAA,KAAK,EAAE,KAAzC;AAAgDF,MAAAA,QAAQ,EAAE;AAA1D,KAAD,CAFd,EAIKO,KAJL,CAIW,MACHV,MAAM,CAAC;AAAEE,MAAAA,IAAI,EAAE,IAAR;AAAcE,MAAAA,OAAO,EAAE,KAAvB;AAA8BC,MAAAA,KAAK,EAAE,IAArC;AAA2CF,MAAAA,QAAQ,EAAE;AAArD,KAAD,CALd;AAOH,GAVD,EAUG,CAACG,GAAD,CAVH;AAWAK,EAAAA,OAAO,CAACC,GAAR,CAAYb,GAAZ;AACA,SAAO,CAACA,GAAD,EAAM,CAAC,GAAGc,IAAJ,KAAaN,MAAM,CAACT,EAAE,CAAC,GAAGe,IAAJ,CAAH,CAAzB,CAAP;AACH,CAjBD;;AAmBA,OAAO,MAAMC,wBAAwB,GAAG,MAAM;AAC1C;AAEA,SAAOjB,gBAAgB,CAACK,IAAI,KAAK;AAAEa,IAAAA,GAAG,EAAEnB,YAAP;AAAqBoB,IAAAA,MAAM,EAAE,KAA7B;AAAoCC,IAAAA,MAAM,EAAG;AAACC,MAAAA,IAAI,EAAEhB,IAAI,CAACgB,IAAZ;AAAkBC,MAAAA,IAAI,EAAEjB,IAAI,CAACkB,WAA7B;AAA0CC,MAAAA,MAAM,EAAE;AAAlD;AAA7C,GAAL,CAAL,CAAvB,CAH0C,CAG8F;;AACzI;AACH;AACA;AACA;AACA;AACA;AACC,CAVM,C,CAUN","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\n//const ENDPOINT_URL = \"https://api.pushkin.monetka.name/push\";//куда делается запрос\r\nconst ENDPOINT_URL = \"http://46.17.97.44:5001/stih\";//куда делается запрос\r\nconst useAsyncEndpoint = fn => {\r\n    const [res, setRes] = React.useState({ data: null, complete: false, pending: false, error: false });\r\n    const [req, setReq] = React.useState();\r\n\r\n    React.useEffect(() => {\r\n        if (!req) return;\r\n        setRes({ data: null, pending: true, error: false, complete: false });\r\n        axios(req)\r\n            .then(res =>\r\n                setRes({ data: res.data, pending: false, error: false, complete: true })\r\n            )\r\n            .catch(() =>\r\n                setRes({ data: null, pending: false, error: true, complete: true })\r\n            );\r\n    }, [req]);\r\n    console.log(res);\r\n    return [res, (...args) => setReq(fn(...args))];\r\n}\r\n\r\nexport const postGeneratePoemEndpoint = () => {\r\n    /* eslint-disable react-hooks/rules-of-hooks */\r\n    \r\n    return useAsyncEndpoint(data => ({ url: ENDPOINT_URL, method: \"GET\", params : {name: data.name, temp: data.temperature, length: 100}}));//Гет-запрос на сервер\r\n   /* return axios.get(data => (ENDPOINT_URL, {\r\n        params: {\r\n          text: data.text,\r\n          temp: data.temperature\r\n        }\r\n      }));*/\r\n}// "]},"metadata":{},"sourceType":"module"}