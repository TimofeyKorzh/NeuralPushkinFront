{"ast":null,"code":"/* eslint-env browser */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withId = withId;\nexports.withFilter = withFilter;\nObject.defineProperty(exports, \"YMInitializer\", {\n  enumerable: true,\n  get: function get() {\n    return _component.YMInitializer;\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _component = require(\"./component\");\n\nfunction ymProxy(id, methodName) {\n  try {\n    var _window$trackerInstan;\n\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    (_window$trackerInstan = window[(0, _constants.trackerInstanceName)(id)])[methodName].apply(_window$trackerInstan, args);\n  } catch (ex) {\n    console.warn(ex);\n  }\n}\n\nfunction accountIdList() {\n  return typeof window !== 'undefined' ? window[_constants.accountListName] : [];\n}\n\nfunction ymAsyncProxy(ids) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    ids.forEach(function (id) {\n      var trackerVersion = window[(0, _constants.trackerVersionName)(id)];\n      var callbackQueue = window[(0, _constants.callbackQueueName)(trackerVersion)];\n\n      if (callbackQueue) {\n        callbackQueue.push(function () {\n          return ymProxy.apply(void 0, [id].concat(args));\n        });\n      } else {\n        ymProxy.apply(void 0, [id].concat(args));\n      }\n    });\n  };\n}\n\nfunction ym() {\n  return ymAsyncProxy(accountIdList()).apply(void 0, arguments);\n}\n\nfunction withId(counterId) {\n  return withFilter(function (id) {\n    return counterId === id;\n  });\n}\n\nfunction withFilter(f) {\n  return ymAsyncProxy(accountIdList().filter(f));\n}\n\nvar _default = ym;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}